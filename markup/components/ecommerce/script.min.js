!function(a){"use strict";a(function(){window.dataLayer=window.dataLayer||[],a(".b-catalog-detail").bind("detail.ecommerce",function(){var b="";a("#propListBlock [data-prop]").each(function(c,d){b+=a(d).find(".i-active").text()+" "});var c={id:a(".b-catalog-detail").data("id"),name:a(".b-catalog-detail h1").text(),price:parseInt(a(".b-catalog-detail__price").text().split(" ").join(""),10),category:a("#catalogDetailData").data("category"),brand:a("#catalogDetailData").data("brand"),quantity:1,variant:a.trim(b)},d=a("#catalogDetailData div[ data-id="+a(".b-catalog-detail").data("id")+"]").data("cur");window.dataLayer.push({ecommerce:{currencyCode:d,detail:{products:[c]}}})}),a(".b-catalog-detail__button-block .btn-100:not( .i-gray )").click(function(){var b="";a("#propListBlock [data-prop]").each(function(c,d){b+=a(d).find(".i-active").text()+" "});var c={id:a(".b-catalog-detail").data("id"),name:a(".b-catalog-detail h1").text(),price:parseInt(a(".b-catalog-detail__price").text().split(" ").join(""),10),category:a("#catalogDetailData").data("category"),brand:a("#catalogDetailData").data("brand"),quantity:1,variant:a.trim(b)},d=a("#catalogDetailData div[ data-id="+a(".b-catalog-detail").data("id")+"]").data("cur");window.dataLayer.push({ecommerce:{currencyCode:d,add:{products:[c]}}})}),a(".b-catalog-element__button .btn").bind("add.ecommerce",function(){var b=a(this).closest(".b-catalog-element"),c="";b.find(".b-catalog-element__propList-block [data-prop]").each(function(b,d){c+=a(d).find(".i-active").text()+" "});var d={id:b.data("id"),name:b.find(".b-catalog-element__title").text(),price:parseInt(b.find(".b-catalog-element__price span").text().split(" ").join(""),10),category:b.find(".b-catalog-element__data").data("category"),brand:b.find(".b-catalog-element__data").data("brand"),quantity:1,variant:a.trim(c)},e=b.find(".b-catalog-element__data div[ data-id="+b.data("id")+"]").data("cur");window.dataLayer.push({currencyCode:e,ecommerce:{add:{products:[d]}}})}),a("#basket-root .basket-item-actions-remove").bind("click",function(){var b=a(this).closest(".basket-items-list-item-container"),c="";a("#propListBlock [data-prop]").each(function(b,d){c+=a(d).find(".i-active").text()+" "});var d={id:b.data("id"),name:b.find(".basket-item-info-name").text(),price:parseInt(String(b.find(".basket-items-list-item-price-for-one .basket-item-price-current-text").html()).replace("&nbsp;","").replace("&amp;nbsp;","").replace(" ",""),10),category:b.data("category"),brand:b.data("brand"),quantity:b.find("input.basket-item-amount-filed").val()},e=b.data("cur");window.dataLayer.push({ecommerce:{currencyCode:e,remove:{products:[d]}}})}),a("#oneClick").bind("oneClickSuccess.ecommerce",function(){var b="";a("#propListBlock [data-prop]").each(function(c,d){b+=a(d).find(".i-active").text()+" "});var c={id:a(".b-catalog-detail").data("id"),name:a(".b-catalog-detail h1").text(),price:parseInt(a(".b-catalog-detail__price").text().split(" ").join(""),10),category:a("#catalogDetailData").data("category"),brand:a("#catalogDetailData").data("brand"),quantity:1,variant:a.trim(b)},d=a("#catalogDetailData div[ data-id="+a(".b-catalog-detail").data("id")+"]").data("cur");window.dataLayer.push({ecommerce:{currencyCode:d,purchase:{actionField:{id:window.oneClickOrderId,goal_id:window.oneClickYandexId},products:[c]}}})})})}(jQuery);